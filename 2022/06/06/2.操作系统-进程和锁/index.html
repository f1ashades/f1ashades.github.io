<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="操作系统! * !">
<meta property="og:type" content="article">
<meta property="og:title" content="操作系统笔记-进程与锁">
<meta property="og:url" content="http://example.com/2022/06/06/2.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B%E5%92%8C%E9%94%81/index.html">
<meta property="og:site_name" content="f1ashades&#39; blogs">
<meta property="og:description" content="操作系统! * !">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/9r6zHLh4wWTISYd.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/VGUgORafr3IlcC7.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/1iTbCeq94xuSJ3k.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/3FGEqH9IyWCmjM7.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/3vxtXrkiIPce7Cd.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/XKJOn8FA57tsiu6.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/Ii6ruXYKTypwGZP.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/SckumUVbwWIYz1d.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/7AJtIDHUCKlkygz.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/1mtvdIkAURPzoeG.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/bpHlk12SeLrXRJV.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/N4ndQxaB23JKulV.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/golJrTzdLYPWc6h.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/jmfcMKtCUwbroqF.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/eH2zwMScx3JoVks.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/L3IQ7KCXxUkzy9A.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/MHIg7JaeBXwfUhA.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/eM5IzrBkJlRZiW2.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/rohZSkTJpcX4lyu.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/B9uGbgnVWUHeKTA.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/fJGOSIo5ePF3nAj.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/hAlyIRGPD35cqE4.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/PDQCKojkU6dXwHg.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/5pmPMi64fceNQA9.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/nUPqivm4GMOLoX2.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/1AH4V9iNwsFPfQB.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/XVk751cOLEtbsAf.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/tuJIwWBFsrRfYUn.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/JTNlQvwd3mgI92s.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/cUb9WOwXRgLY2Eu.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/9wentksLXhQ6Ao4.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/1E4T3USOLIPjtRz.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/W1IvUB2MQJVgGaE.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/JFqbp5UVGThSyak.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/sSuIJPlRVfCF7bQ.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/mWn8pyfe5rRFTkt.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/79m3XRvsgLcUHK6.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/NSKRYVgtfsmB4Zi.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/gojRuPpfqydeDIZ.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/V2GT6Sx4gNpohmE.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/U2DZptd3FbJC4xP.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/7W28JqfTQ5MEutO.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/BRTtp4cE69sHgC7.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/ZV7OzrUXa2ToCqB.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/gGhq6wbCFrjxMEv.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/vIi61sgjCxet5rq.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/E3xgzCDhXj12M9o.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/NBQgPo1m5LxEMeZ.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/nBb9hdaXoFePvm7.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/cmZCTLvJD6S49np.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/jPRdUeIoCcmEwbV.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/S8DUT3FPnxrhIRL.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/clmCHknre5xQSVf.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/Y9nVudj6FK3JIUq.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/Qow1OR2fjF9kU8m.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/uQvxe3rIoKzsVcB.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/2OBeZkshz8AfDQw.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/1FIDzRkMC6cLHu8.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/Ot52WyIlMCimvFo.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/UC7pude53oTDYs2.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/o1n29utPeXsIYdk.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/Jxz21bVrvl7CLZy.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/xKivHPs9aIOu7fy.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/IeY9HLltCXgms3y.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/pzQeRAEUitWdqnj.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/BojX5Enb6wQsVHu.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/3eRYbjp6Qs8w2gh.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/lMT6knYBZ7iJ1C8.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/UWo89GcwO4YxMzS.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/7FkclNf2EVg9pYR.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/UCQn4lsG3gq6M8f.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/PZ1Hwi89noKRO4d.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/NODiTcF1UKJktfo.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/TaLV8CtrMJPDIsw.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/nvKgGfF3qxo89H5.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/feyGlSq1kc83rhN.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/EuzdMN9Oh5wbvoG.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/7jcQemEd2OVt5zF.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/kMI6LBoKvx4gUPw.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/rVOJWU9ZePSamLM.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/GwqAdh7OoCXSxrM.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/BPKtA71MfW2IcTQ.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/tjP6VUAeZsBh2mN.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/2DyiN61U8zeBbj5.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/KVQ3qwgUTlrsdou.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/uvVINoAnP3aYgRO.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/8JsTOzDIQP2uwYc.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/u2n91ECFJRwOIc7.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/mPuNy3XJwk961ZS.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/mCq6A7Edk9XBQMF.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/07/KcJrl1mE5pBt43C.png">
<meta property="og:image" content="https://s2.loli.net/2022/06/04/8sPJpQV2IcaWS4m.png">
<meta property="article:published_time" content="2022-06-06T11:17:48.000Z">
<meta property="article:modified_time" content="2022-06-14T05:22:50.379Z">
<meta property="article:author" content="f1ashades">
<meta property="article:tag" content="操作系统">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2022/06/07/9r6zHLh4wWTISYd.png">

<link rel="canonical" href="http://example.com/2022/06/06/2.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B%E5%92%8C%E9%94%81/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>操作系统笔记-进程与锁 | f1ashades' blogs</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">f1ashades' blogs</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/06/06/2.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B%E5%92%8C%E9%94%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/mine.jpg">
      <meta itemprop="name" content="f1ashades">
      <meta itemprop="description" content="once again I am a child">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="f1ashades' blogs">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          操作系统笔记-进程与锁
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-06 19:17:48" itemprop="dateCreated datePublished" datetime="2022-06-06T19:17:48+08:00">2022-06-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-14 13:22:50" itemprop="dateModified" datetime="2022-06-14T13:22:50+08:00">2022-06-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">操作系统</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>操作系统! * !</p>
<span id="more"></span>

<h1 id=""><a href="#" class="headerlink" title=""></a></h1><h2 id="1-进程的概念、组成、特征"><a href="#1-进程的概念、组成、特征" class="headerlink" title="1.进程的概念、组成、特征"></a>1.进程的概念、组成、特征</h2><p><img src="https://s2.loli.net/2022/06/07/9r6zHLh4wWTISYd.png" alt="image-20220525103546012"></p>
<p>进程是动态的，是一次程序运行的过程，同一程序多次启动会对应多个进程。</p>
<p><img src="https://s2.loli.net/2022/06/07/VGUgORafr3IlcC7.png" alt="image-20220525103726558"></p>
<h2 id="2-进程的状态及进程状态的转换"><a href="#2-进程的状态及进程状态的转换" class="headerlink" title="2.进程的状态及进程状态的转换"></a>2.进程的状态及进程状态的转换</h2><p><img src="https://s2.loli.net/2022/06/07/1iTbCeq94xuSJ3k.png" alt="image-20220525104632389"></p>
<p>进程首先会进入<code>创建态</code>（完成新建PCB等准备工作），然后进入<code>就绪态</code>等待CPU的调度，当CPU运行该进程后进程进入<code>运行态</code>。当运行时出现异常，如整数&#x2F;0就会终止掉该进程，进程进入<code>终止态</code>。若进程在运行过程中需要请求资源但资源还未空闲，如IO设备，那么进程就会进入<code>阻塞态</code>等待资源空闲。当资源空闲，进程有了需要的资源，那么进程将进入<code>就绪态</code>等待CPU调动，CPU在运行该进程后又会重新进入<code>运行态</code>。同时<code>运行态</code>也有可能因为时钟中断进入<code>就绪态</code>。</p>
<p><img src="https://s2.loli.net/2022/06/07/3FGEqH9IyWCmjM7.png" alt="image-20220525104817284"></p>
<p>对于同一状态的进程，操作系统会将它们的PCB组织起来：队列和索引两种方式</p>
<img src="https://s2.loli.net/2022/06/07/3vxtXrkiIPce7Cd.png" alt="image-20220525105213861" style="zoom:80%;" />

<img src="https://s2.loli.net/2022/06/07/XKJOn8FA57tsiu6.png" alt="image-20220525105220572" style="zoom:80%;" />



<h2 id="3-进程控制"><a href="#3-进程控制" class="headerlink" title="3.进程控制"></a>3.进程控制</h2><h3 id="1）原语"><a href="#1）原语" class="headerlink" title="1）原语"></a>1）原语</h3><p><img src="https://s2.loli.net/2022/06/07/Ii6ruXYKTypwGZP.png" alt="image-20220525163339787"></p>
<p>​		原语是程序段，实现了原子性。主要由两条特权指令实现：关中断指令执行后，中断信号将不会影响该任务执行，等到开中断指令执行后，改程序段才能被中断。</p>
<p>​		关中断指令和开中断指令必须是特权指令，若是非特权指令，那某一程序就能够一直霸占CPU了。</p>
<h3 id="2）进程控制原语"><a href="#2）进程控制原语" class="headerlink" title="2）进程控制原语"></a>2）进程控制原语</h3><p><img src="https://s2.loli.net/2022/06/07/SckumUVbwWIYz1d.png" alt="image-20220525163533913"></p>
<p>注意：</p>
<p>​	PCB中存储了上次进程执行的相关信息，在被唤醒后，进程可以根据这些信息还原上次的运行状态。</p>
<h2 id="4-进程通信"><a href="#4-进程通信" class="headerlink" title="4. 进程通信"></a>4. 进程通信</h2><h3 id="1）共享内存"><a href="#1）共享内存" class="headerlink" title="1）共享内存"></a>1）共享内存</h3><p><img src="https://s2.loli.net/2022/06/07/7AJtIDHUCKlkygz.png" alt="image-20220603102057156"></p>
<p>​	共享内存就是开辟一片空间供通信进程使用：</p>
<p>​		基于数据结构—只能根据数据结构进行存储，较低级；</p>
<p>​		基于存储区—划出一片共享存储区，存储的形式和位置等都由通信进程控制。</p>
<h3 id="2）消息传递"><a href="#2）消息传递" class="headerlink" title="2）消息传递"></a>2）消息传递</h3><p><img src="https://s2.loli.net/2022/06/07/1mtvdIkAURPzoeG.png" alt="image-20220603104721009"></p>
<p>直接通信：</p>
<p>​		<img src="https://s2.loli.net/2022/06/07/bpHlk12SeLrXRJV.png" alt="image-20220603104756462"></p>
<p>发送进程P直接将msg发送到接收进程Q，并将msg挂到接收进程Q的消息队列中，接收进程Q通过接收原语取得消息</p>
<p>间接通信：</p>
<p><img src="https://s2.loli.net/2022/06/07/N4ndQxaB23JKulV.png" alt="image-20220603105349120"></p>
<p>​	</p>
<p>可以有多个发送方向信箱A发送信息，也可以有多个接收方从信箱A接收信息</p>
<h3 id="3）管道通信"><a href="#3）管道通信" class="headerlink" title="3）管道通信"></a>3）管道通信</h3><p><img src="https://s2.loli.net/2022/06/07/golJrTzdLYPWc6h.png" alt="image-20220603105622148"></p>
<p><img src="https://s2.loli.net/2022/06/07/jmfcMKtCUwbroqF.png" alt="image-20220603105628454"></p>
<p>管道对于数据的接收相当于于一个单向队列，FIFO。</p>
<p>管道实际上就是一个缓冲区，只有写满数据才能取，只有取完数据管道空了才能写。</p>
<p>要想实现双向通信，必须要要两个管道。</p>
<h2 id="5-线程的实现方式"><a href="#5-线程的实现方式" class="headerlink" title="5.线程的实现方式"></a>5.线程的实现方式</h2><p><img src="https://s2.loli.net/2022/06/07/eH2zwMScx3JoVks.png" alt="image-20220603110928025"></p>
<h3 id="1）用户级线程"><a href="#1）用户级线程" class="headerlink" title="1）用户级线程"></a>1）用户级线程</h3><p><img src="https://s2.loli.net/2022/06/07/L3IQ7KCXxUkzy9A.png" alt="image-20220603111015621"></p>
<p>如while（true）循环判断一个值就是一个傻瓜用户级线程，若其中一个线程堵塞了，整个进程都会被堵塞</p>
<h3 id="2）内核级线程"><a href="#2）内核级线程" class="headerlink" title="2）内核级线程"></a>2）内核级线程</h3><p><img src="https://s2.loli.net/2022/06/07/MHIg7JaeBXwfUhA.png" alt="image-20220603111214449"></p>
<p>内核级线程的管理由操作系统内核完成，一个用户进程会占用多个内核级线程，线程切换需要系统内完成，切换内核态是有成本的</p>
<h3 id="3）多线程"><a href="#3）多线程" class="headerlink" title="3）多线程"></a>3）多线程</h3><p>一对一：</p>
<p><img src="https://s2.loli.net/2022/06/07/eM5IzrBkJlRZiW2.png" alt="image-20220603113112600"></p>
<p>​	其实就是内核级线程</p>
<p>多对一：</p>
<p><img src="https://s2.loli.net/2022/06/07/rohZSkTJpcX4lyu.png" alt="image-20220603113259976"></p>
<p>一个内核级线程管理多个用户级线程，用户级线程切换不需要经过内核态，但是一个用户级线程阻塞后，其他也会被阻塞</p>
<p>多对多：</p>
<p><img src="https://s2.loli.net/2022/06/07/B9uGbgnVWUHeKTA.png" alt="image-20220603113409640"></p>
<p>一个进程包含多1，2，3个用户级线程，1可由内核级线程1执行，2，3可由内核级线程2并发执行。即一个进程可能对应多个内核级线程。当一个进程对应的所有内核级线程都被阻塞后，才称该进程被阻塞。</p>
<h2 id="6-调度"><a href="#6-调度" class="headerlink" title="6.调度"></a>6.调度</h2><h3 id="1）高级调度"><a href="#1）高级调度" class="headerlink" title="1）高级调度"></a>1）高级调度</h3><p><img src="https://s2.loli.net/2022/06/07/fJGOSIo5ePF3nAj.png" alt="image-20220603143827491"></p>
<p>高级调度是面向队列的，启动一个程序并创建相关进程。外存的作业后备队列-&gt;调入内存，并创建响应PCB，当调出的时候才会撤销。</p>
<h3 id="2）中级调度"><a href="#2）中级调度" class="headerlink" title="2）中级调度"></a>2）中级调度</h3><p><img src="https://s2.loli.net/2022/06/07/hAlyIRGPD35cqE4.png" alt="image-20220603144444711"></p>
<p>​	当内存空间不足的时候，会将某些数据调出外存，这些进程的PCB会被组织成挂起队列，中级调度会根据某种策略决定将某个处于挂起状态的进程重新调入内存。</p>
<h3 id="3）低级调度"><a href="#3）低级调度" class="headerlink" title="3）低级调度"></a>3）低级调度</h3><p><img src="https://s2.loli.net/2022/06/07/PDQCKojkU6dXwHg.png" alt="image-20220603144846630"></p>
<p>按照某种策略，从就绪队列中挑选一个进程并将处理机分配给它。</p>
<h3 id="4）七状态模型"><a href="#4）七状态模型" class="headerlink" title="4）七状态模型"></a>4）七状态模型</h3><p><img src="https://s2.loli.net/2022/06/07/5pmPMi64fceNQA9.png" alt="image-20220603144954437"></p>
<p>挂起的进程是在外存的挂起队列中，阻塞的进程是在内存的阻塞队列中的。</p>
<p>​	当内存空间不足，会将某些进程从就绪队列调入外存的就绪挂起队列中，默写阻塞态进程夜游可能会被调入阻塞挂起队列，当需要的事件出现以后该进程就有可能从阻塞挂起变为就绪挂起。运行态的进程也有可能进入就绪挂起。</p>
<h3 id="5）三种调度对比"><a href="#5）三种调度对比" class="headerlink" title="5）三种调度对比"></a>5）三种调度对比</h3><p><img src="https://s2.loli.net/2022/06/07/nUPqivm4GMOLoX2.png" alt="image-20220603145408857"></p>
<h2 id="7-进程调度的时机-切换和过程方式"><a href="#7-进程调度的时机-切换和过程方式" class="headerlink" title="7.进程调度的时机 切换和过程方式"></a>7.进程调度的时机 切换和过程方式</h2><h3 id="1）切换时机"><a href="#1）切换时机" class="headerlink" title="1）切换时机"></a>1）切换时机</h3><p><img src="https://s2.loli.net/2022/06/07/1AH4V9iNwsFPfQB.png" alt="image-20220603150839588"></p>
<p>中断处理不能调度</p>
<p>操作系统内核程序临界区：</p>
<p>​	临界资源是互斥访问资源，一个进程访问就会上锁，临界区就是这段资源的代码	</p>
<p>​	如就绪队列就是一种<code>内核程序临界区</code>，访问的时候会上锁，但需要快速释放，如果进行进程调度会浪费时间</p>
<p>​	而打印机设备就是<code>普通临界区</code>，访问的时候也会上锁，但是使用这些资源的时候，CPU处于空闲状态，可以进行调度</p>
<p>原语：原子性不能被中断</p>
<h3 id="2）切换过程"><a href="#2）切换过程" class="headerlink" title="2）切换过程"></a>2）切换过程</h3><p><img src="https://s2.loli.net/2022/06/07/XVk751cOLEtbsAf.png" alt="image-20220603151447940"></p>
<p>从就绪队列中选择一个进程，然后切换该进程：</p>
<ol>
<li>保存原来运行进程的各种数据：保存现场</li>
<li>恢复选择的进程的现场：通过保存的数据恢复</li>
</ol>
<h2 id="8-批处理调度算法"><a href="#8-批处理调度算法" class="headerlink" title="8.批处理调度算法"></a>8.批处理调度算法</h2><h3 id="1）FCFS-先来先服务"><a href="#1）FCFS-先来先服务" class="headerlink" title="1）FCFS 先来先服务"></a>1）FCFS 先来先服务</h3><p><img src="https://s2.loli.net/2022/06/07/tuJIwWBFsrRfYUn.png" alt="image-20220603155127430"></p>
<p><img src="https://s2.loli.net/2022/06/07/JTNlQvwd3mgI92s.png" alt="image-20220603155146765"></p>
<p><a target="_blank" rel="noopener" href="https://www.scimall.org.cn/article/detail?id=4813361">https://www.scimall.org.cn/article/detail?id=4813361</a></p>
<h3 id="2）SJF-短作业优先"><a href="#2）SJF-短作业优先" class="headerlink" title="2）SJF 短作业优先"></a>2）SJF 短作业优先</h3><p>非抢占式：</p>
<p><img src="https://s2.loli.net/2022/06/07/cUb9WOwXRgLY2Eu.png" alt="image-20220603155451479"></p>
<p>抢占式：</p>
<p><img src="https://s2.loli.net/2022/06/07/9wentksLXhQ6Ao4.png" alt="image-20220603155656021"></p>
<p>注意：<br>    非抢占式中每个进程一旦开始运行会运行到结束，期间如果有新的进程就绪也不会被剥夺处理机。而抢占式则是每当有一个新的进程进入等待队列就会动态计算剩余时间，会产生抢占现象</p>
<p><img src="https://s2.loli.net/2022/06/07/1E4T3USOLIPjtRz.png" alt="image-20220603160102901"></p>
<h3 id="3）HRRN-高响应比优先"><a href="#3）HRRN-高响应比优先" class="headerlink" title="3）HRRN 高响应比优先"></a>3）HRRN 高响应比优先</h3><p><img src="https://s2.loli.net/2022/06/07/W1IvUB2MQJVgGaE.png" alt="image-20220603160214448"></p>
<p><img src="https://s2.loli.net/2022/06/07/JFqbp5UVGThSyak.png" alt="image-20220603160232920"></p>
<h3 id="4）对比"><a href="#4）对比" class="headerlink" title="4）对比"></a>4）对比</h3><p><img src="https://s2.loli.net/2022/06/07/sSuIJPlRVfCF7bQ.png" alt="image-20220603160313648"></p>
<h2 id="9-交互式处理调度算法"><a href="#9-交互式处理调度算法" class="headerlink" title="9.交互式处理调度算法"></a>9.交互式处理调度算法</h2><h3 id="1）时间片轮转"><a href="#1）时间片轮转" class="headerlink" title="1）时间片轮转"></a>1）时间片轮转</h3><p><img src="https://s2.loli.net/2022/06/07/mWn8pyfe5rRFTkt.png" alt="image-20220603164034135"></p>
<p><img src="https://s2.loli.net/2022/06/07/79m3XRvsgLcUHK6.png" alt="image-20220603164056999"></p>
<p>时间片太大：</p>
<p>​	会退化成先来先服务FCFS</p>
<p>时间片太小：</p>
<p>​	导致频繁的进程切换，浪费系统资源</p>
<p><img src="https://s2.loli.net/2022/06/07/NSKRYVgtfsmB4Zi.png" alt="image-20220603164404949"></p>
<h3 id="2）优先级调度算法"><a href="#2）优先级调度算法" class="headerlink" title="2）优先级调度算法"></a>2）优先级调度算法</h3><p>抢占式和非抢占式的区别：前者在执行完一个进程后做判断（主动失去），后者在有新的进程进入就绪队列后就会做判断（剥夺）	</p>
<p>抢占式：</p>
<p><img src="https://s2.loli.net/2022/06/07/gojRuPpfqydeDIZ.png" alt="image-20220603164457901"></p>
<p>非抢占式：</p>
<p><img src="https://s2.loli.net/2022/06/07/V2GT6Sx4gNpohmE.png" alt="image-20220603164528163"></p>
<p><img src="https://s2.loli.net/2022/06/07/U2DZptd3FbJC4xP.png" alt="image-20220603164812482"></p>
<p><img src="https://s2.loli.net/2022/06/07/7W28JqfTQ5MEutO.png" alt="image-20220603164729076"></p>
<h3 id="3）多级反馈队列"><a href="#3）多级反馈队列" class="headerlink" title="3）多级反馈队列"></a>3）多级反馈队列</h3><p><img src="https://s2.loli.net/2022/06/07/BRTtp4cE69sHgC7.png" alt="image-20220603165106434"></p>
<p><img src="https://s2.loli.net/2022/06/07/ZV7OzrUXa2ToCqB.png" alt="image-20220603165116407"></p>
<p>饥饿情况：持续有高优先级的短进程进入第1级队列，那么低级队列的进程就可能会饥饿。</p>
<h3 id="4）对比-1"><a href="#4）对比-1" class="headerlink" title="4）对比"></a>4）对比</h3><p><img src="https://s2.loli.net/2022/06/07/gGhq6wbCFrjxMEv.png" alt="image-20220603165336202"></p>
<h2 id="10-进程的同步和互斥"><a href="#10-进程的同步和互斥" class="headerlink" title="10.进程的同步和互斥"></a>10.进程的同步和互斥</h2><h3 id="1）进程同步"><a href="#1）进程同步" class="headerlink" title="1）进程同步"></a>1）进程同步</h3><p>​	制约进程的执行顺序，无论整体顺序如何，吃饭一定要在洗澡的前面</p>
<h3 id="2）进程互斥"><a href="#2）进程互斥" class="headerlink" title="2）进程互斥"></a>2）进程互斥</h3><p><img src="https://s2.loli.net/2022/06/07/vIi61sgjCxet5rq.png" alt="image-20220603170521842"></p>
<p>临界资源：</p>
<p><img src="https://s2.loli.net/2022/06/07/E3xgzCDhXj12M9o.png" alt="image-20220603170552593"></p>
<p>进入区：给该资源上锁，保证其它进程无法访问到该资源</p>
<p>临界区：访问临界资源的代码</p>
<p>退出区：解锁</p>
<p><img src="https://s2.loli.net/2022/06/07/NBQgPo1m5LxEMeZ.png" alt="image-20220603170605050"></p>
<h2 id="11-进程互斥的软件实现"><a href="#11-进程互斥的软件实现" class="headerlink" title="11.进程互斥的软件实现"></a>11.进程互斥的软件实现</h2><h3 id="1）单标志法"><a href="#1）单标志法" class="headerlink" title="1）单标志法"></a>1）单标志法</h3><p><img src="https://s2.loli.net/2022/06/07/nBb9hdaXoFePvm7.png" alt="image-20220603173608415"></p>
<p>​		缺点：但是若此时turn&#x3D;0，允许进程P0访问，但P0一直不访问，那么P1就无法访问，违反<code>“空闲让进”</code></p>
<h3 id="2）双标志先检查法"><a href="#2）双标志先检查法" class="headerlink" title="2）双标志先检查法"></a>2）双标志先检查法</h3><p><img src="https://s2.loli.net/2022/06/07/cmZCTLvJD6S49np.png" alt="image-20220603172827307"></p>
<p>​	先检查他人意愿，再表达自己意愿flag</p>
<p>​	缺点：违反忙则等待，两个进程都可能会进入临界区，因为检查 和 表达意愿 操作不具原子性，违反<code>忙则等待</code></p>
<h3 id="3）双标志后检查法"><a href="#3）双标志后检查法" class="headerlink" title="3）双标志后检查法"></a>3）双标志后检查法</h3><p><img src="https://s2.loli.net/2022/06/07/jPRdUeIoCcmEwbV.png" alt="image-20220603173320364"></p>
<p>​	先表达自己意愿，再检查别人意愿</p>
<p>​	缺点：可能会导致双方都有意愿，双方都堵塞住进不了，违反<code>空闲让进</code>和<code>有限等待</code></p>
<p>4）Peterson算法（结合了1 3）</p>
<p><img src="https://s2.loli.net/2022/06/07/S8DUT3FPnxrhIRL.png" alt="image-20220603173715276"></p>
<p>先表达意愿，再谦让，然后判断对方是否有意愿且自己已经谦让了：该算法后谦让的会丧失执行权（改变了之前turn的值）</p>
<h2 id="12-进程互斥的硬件实现"><a href="#12-进程互斥的硬件实现" class="headerlink" title="12.进程互斥的硬件实现"></a>12.进程互斥的硬件实现</h2><p><img src="https://s2.loli.net/2022/06/07/clmCHknre5xQSVf.png" alt="image-20220603175159861"></p>
<p>中断屏蔽：</p>
<p>​	其实就是加入了开中断和关中断（类似原语）：若有多个CPU，那么中断屏蔽只能在一个CPU1上实现互斥，若在CPU2上有对该临界资源的访问，CPU1的约束无法生效；且关中断和开中断属于特权指令，只能运行在内核态，不能让普通程序使用，所以中断屏蔽的方法只适合操作系统的内核进程</p>
<p>TestAndSet和Swap指令：</p>
<p>实际逻辑都是检查是否上锁，若没上锁，自己再上锁：类似双标志先检查法，但硬件实现具有原子性，不用考虑并发</p>
<h2 id="13-信号量机制"><a href="#13-信号量机制" class="headerlink" title="13.信号量机制"></a>13.信号量机制</h2><p>信号量代表了某一资源的值，如int src代表了打印机数量，那么int src&#x3D;2，说明打印机有两台。</p>
<h3 id="1）整型信号量"><a href="#1）整型信号量" class="headerlink" title="1）整型信号量"></a>1）整型信号量</h3><p><img src="https://s2.loli.net/2022/06/07/Y9nVudj6FK3JIUq.png" alt="image-20220603183537822"></p>
<p>​		</p>
<p>​	P、V操作使用了原语，保证了原子性，但仍然不满足让权等待，会发生忙等问题。</p>
<h3 id="2）记录型信号量"><a href="#2）记录型信号量" class="headerlink" title="2）记录型信号量"></a>2）记录型信号量</h3><p><img src="https://s2.loli.net/2022/06/07/Qow1OR2fjF9kU8m.png" alt="image-20220603184355807"></p>
<p><img src="https://s2.loli.net/2022/06/07/uQvxe3rIoKzsVcB.png" alt="image-20220603183316758"></p>
<p>忙等：</p>
<p>​		当某进程访问资源，但是资源不够的时候，会进入while死循环，这时候无法访问资源但是仍然在占用CPU，所以会浪费CPU资源，	进入忙等状态。</p>
<p>为什么记录型信号量不会发生盲等？</p>
<p>​	定义的信号量数据结构中带有等待队列的指针，可以操作相应进程挂在等待队列上等待唤醒</p>
<p>​	因为在P（wait）操作的时，当信号量&lt;0，即资源数量不够后，该进程会主动进入阻塞态，让出CPU资源。</p>
<p>​	而当V（signal）操作的时候，判断信号量++后是否&lt;&#x3D;0，如果&lt;&#x3D;0，说明仍然有进程在等待资源，那么V操作会唤醒该进程。</p>
<h2 id="14-信号量实现进程互斥和同步-前驱关系"><a href="#14-信号量实现进程互斥和同步-前驱关系" class="headerlink" title="14.信号量实现进程互斥和同步 前驱关系"></a>14.信号量实现进程互斥和同步 前驱关系</h2><h3 id="1）实现进程互斥"><a href="#1）实现进程互斥" class="headerlink" title="1）实现进程互斥"></a>1）实现进程互斥</h3><p><img src="https://s2.loli.net/2022/06/07/2OBeZkshz8AfDQw.png" alt="image-20220603190656014"></p>
<p>​	初始化互斥信号量&#x3D;1（说明该资源只有一个，只允许一个进程使用完后再还回去），进程A在进入区前P操作（申请一个资源并让资源-1，那么唯一的一个资源已经被占用）；进程B要想P申请一个，发现mutex&lt;0，资源没了，进入阻塞状态；进程A用完该资源后会通过V操作mutex++（还回该资源），并唤醒进程B。</p>
<h3 id="2）实现进程同步"><a href="#2）实现进程同步" class="headerlink" title="2）实现进程同步"></a>2）实现进程同步</h3><p><img src="https://s2.loli.net/2022/06/07/1FIDzRkMC6cLHu8.png" alt="image-20220603191149467"></p>
<p>​	保证12 4相对顺序</p>
<p>初始化mutex&#x3D;0（相当于没有该资源），代码1和代码2的结果相当与生成了一个该资源，那么V(S)使mutex++，代表有了一个该资源，那么P(S)就可以获得该资源并执行接下来的代码。</p>
<p>​	若向先执行4，那么P(S)操作没有获得相应的资源，所以会执行block原语进入阻塞态无法执行，只有当12执行产生了对应资源S后才能继续执行，这样就保证了同步的相对</p>
<h2 id="15-各类问题"><a href="#15-各类问题" class="headerlink" title="15.各类问题"></a>15.各类问题</h2><h3 id="1）生产者和消费者问题"><a href="#1）生产者和消费者问题" class="headerlink" title="1）生产者和消费者问题"></a>1）生产者和消费者问题</h3><p><img src="https://s2.loli.net/2022/06/07/Ot52WyIlMCimvFo.png" alt="image-20220604101546439"></p>
<p>为什么要互斥：因为虽然容量为5，但是多个生产者进程可能会并发修改同一个地址的数据，这样就会导致数据覆盖。</p>
<p>full-&gt;目前产品数量 ，一开始数量要为0，生产者v生产并放入缓冲区+1，消费者才能从缓冲区p消耗取出一个。</p>
<p>empty-&gt;容器剩余容量，一开始数量要为5，生产者p消耗一个容量生产，消费者才能v获得一个产品。</p>
<p><img src="https://s2.loli.net/2022/06/07/UC7pude53oTDYs2.png" alt="image-20220604102705922"></p>
<p>​	生产者：先消耗一个容量P(empty)，生产一个产品并放入缓冲区，增加一个目前产品数量V(full)</p>
<p>​	消费者：消费者先消耗一个目前产品P(full)，从缓冲区拿出一个产平，增加一个缓冲区容量，使用产品</p>
<p><img src="https://s2.loli.net/2022/06/07/o1n29utPeXsIYdk.png" alt="image-20220604103110749"></p>
<p>​	实现互斥的P操作一定要在实现同步的P操作之后！！！</p>
<h3 id="2）多类生产者和多类消费者问题"><a href="#2）多类生产者和多类消费者问题" class="headerlink" title="2）多类生产者和多类消费者问题"></a>2）多类生产者和多类消费者问题</h3><p><img src="https://s2.loli.net/2022/06/07/Jxz21bVrvl7CLZy.png" alt="image-20220604104041227"></p>
<p><img src="https://s2.loli.net/2022/06/07/xKivHPs9aIOu7fy.png" alt="image-20220604104056599"></p>
<p><img src="https://s2.loli.net/2022/06/07/IeY9HLltCXgms3y.png" alt="image-20220604104114523"></p>
<p>本体可以不用互斥信号量，因为容量总共为1，若为2就不行</p>
<p><img src="https://s2.loli.net/2022/06/07/pzQeRAEUitWdqnj.png" alt="image-20220604104359541"></p>
<h3 id="3）吸烟者问题"><a href="#3）吸烟者问题" class="headerlink" title="3）吸烟者问题"></a>3）吸烟者问题</h3><p><img src="https://s2.loli.net/2022/06/07/BojX5Enb6wQsVHu.png" alt="image-20220604105205744"></p>
<p><img src="https://s2.loli.net/2022/06/07/3eRYbjp6Qs8w2gh.png" alt="image-20220604105138184"></p>
<p><img src="https://s2.loli.net/2022/06/07/lMT6knYBZ7iJ1C8.png" alt="image-20220604105257188"></p>
<p>finish：这里也可以理解为桌子上剩下的容量，当吸烟者拿走组合后并吸烟后，容量就会+1，这时候生产者就能生成组合并放桌上</p>
<h3 id="4）读者写者问题"><a href="#4）读者写者问题" class="headerlink" title="4）读者写者问题"></a>4）读者写者问题</h3><p><img src="https://s2.loli.net/2022/06/07/UWo89GcwO4YxMzS.png" alt="image-20220604111055339"></p>
<p>写进程1和其它所有写进程和读进程都互斥，写进程之前需要所有进程的工作都结束</p>
<p><img src="https://s2.loli.net/2022/06/07/7FkclNf2EVg9pYR.png" alt="image-20220604111400944"></p>
<p>rw：保证读进程和写进程之间的互斥，count：记录有多少个读进程</p>
<p>②：第一个进程获得文件资源后上rw锁，并使count+1，最后一个读进程读完后count–，并释放rw锁，唤醒写进程</p>
<p>①：当两个读进程同时执行，这时候两个count都&#x3D;&#x3D;0，而此时读进程A P(rw)上锁，那么读进程2就会被rw锁阻挡，这是不对的</p>
<p>​		导致这个问题的原因是这段代码不是一气呵成的，所以可以加一个mutex锁，保证各个读进程在访问该段代码的时候是互斥的 </p>
<p>注：以上实现有一个缺点，如果有无限读进程进入，那么写进程就会因为得不到rw锁而被<code>饿死</code></p>
<p><img src="https://s2.loli.net/2022/06/07/UCQn4lsG3gq6M8f.png" alt="image-20220604112112032"></p>
<p>再增加一个w变量，该变量来保证写进程不会被饿死</p>
<p>​	当读进程1 P(w)上锁，此时后来读进程和写进程都会因为w锁没被释放而被阻塞，按照先后顺序排列在一个阻塞队列中</p>
<p>（读进程2-&gt;写进程1），当读进程1在读文件前V(w)释放锁，这时候队首的写进程1就会获得该锁并会堵在rw锁……</p>
<p>w锁保证了 读进程和写进程是按照来的顺序 来获得操作文件的机会</p>
<p>rw：保证读进程和所有写进程之间的互斥</p>
<p>w：保证读进程和写进程按照来的顺序获得机会，不会因为大量读进程而被阻塞</p>
<p>mutex：保证rw上锁的过程一气呵成，不会导致多个读进程的堵塞，保证对count变量操作的互斥</p>
<h3 id="5）哲学家进餐问题"><a href="#5）哲学家进餐问题" class="headerlink" title="5）哲学家进餐问题"></a>5）哲学家进餐问题</h3><p><img src="https://s2.loli.net/2022/06/07/PZ1Hwi89noKRO4d.png" alt="image-20220604114003094"></p>
<p><img src="https://s2.loli.net/2022/06/07/NODiTcF1UKJktfo.png" alt="image-20220604114030404"></p>
<p>三种解决方案：</p>
<p><img src="https://s2.loli.net/2022/06/07/TaLV8CtrMJPDIsw.png" alt="image-20220604114055001"></p>
<p><img src="https://s2.loli.net/2022/06/07/nvKgGfF3qxo89H5.png" alt="image-20220604114111382"></p>
<h2 id="16-管程"><a href="#16-管程" class="headerlink" title="16.管程"></a>16.管程</h2><p><img src="https://s2.loli.net/2022/06/07/feyGlSq1kc83rhN.png" alt="image-20220604161738422"></p>
<p>管程实际上就相当于一个类，成员变量就是需要加锁的对象，一组过程就是定义的函数</p>
<p><img src="https://s2.loli.net/2022/06/07/EuzdMN9Oh5wbvoG.png" alt="image-20220604161901770"></p>
<p>每次仅允许一个进程在管程内执行某个函数，编译器负责各进程互斥进入管程</p>
<p><img src="https://s2.loli.net/2022/06/07/7jcQemEd2OVt5zF.png" alt="image-20220604162052589"></p>
<p><img src="https://s2.loli.net/2022/06/07/kMI6LBoKvx4gUPw.png" alt="image-20220604162122293"></p>
<p><img src="https://s2.loli.net/2022/06/07/rVOJWU9ZePSamLM.png" alt="image-20220604162149905"></p>
<h2 id="17-死锁相关"><a href="#17-死锁相关" class="headerlink" title="17.死锁相关"></a>17.死锁相关</h2><h3 id="1）死锁、饥饿、死循环的区别"><a href="#1）死锁、饥饿、死循环的区别" class="headerlink" title="1）死锁、饥饿、死循环的区别"></a>1）死锁、饥饿、死循环的区别</h3><p><img src="https://s2.loli.net/2022/06/07/GwqAdh7OoCXSxrM.png" alt="image-20220604163553292"></p>
<p>死锁：死锁是多个进程循环等待对方手里的资源而发生的，并且死锁的进程一定处于阻塞态，等待对方释放资源将自己唤醒</p>
<p>饥饿：可能只有一个进程发生饥饿，如短进程优先算法，如果一直有短进程进入，那么长进程就会发生饥饿</p>
<p>​			发生饥饿的进程可能是阻塞态，长期得不到I&#x2F;O设备</p>
<p>​									   可能是就绪态，如长期得不到处理机</p>
<p>死循环：程序员编码导致</p>
<h3 id="2）死锁发生的4个条件"><a href="#2）死锁发生的4个条件" class="headerlink" title="2）死锁发生的4个条件"></a>2）死锁发生的4个条件</h3><p><img src="https://s2.loli.net/2022/06/07/BPKtA71MfW2IcTQ.png" alt="image-20220604164005460"></p>
<p>​	互斥条件：对互斥资源的争抢才会导致死锁</p>
<p>​	不剥夺条件：各进程持有的资源不能被剥夺，只能主动释放</p>
<p>​	请求和保持条件：进程在吃持有别的进程想要的资源时，又在请求其他资源</p>
<p>​	循环等待条件：存在一种进程资源的循环等待链</p>
<p>注意：<br>    发生了循环等待不一定发生死锁，如有第6个哲学家持有3号能用的筷子，虽然3在循环等待，但是6若释放则不会死锁：当有其它可替代资源的时候就未必发生死锁</p>
<h3 id="3）死锁的处理策略"><a href="#3）死锁的处理策略" class="headerlink" title="3）死锁的处理策略"></a>3）死锁的处理策略</h3><p><img src="https://s2.loli.net/2022/06/07/tjP6VUAeZsBh2mN.png" alt="image-20220604164527939"></p>
<p><img src="https://s2.loli.net/2022/06/07/2DyiN61U8zeBbj5.png" alt="image-20220604164547541"></p>
<h2 id="18-预防避免死锁"><a href="#18-预防避免死锁" class="headerlink" title="18.预防避免死锁"></a>18.预防避免死锁</h2><h3 id="1）破坏发生死锁的4个条件"><a href="#1）破坏发生死锁的4个条件" class="headerlink" title="1）破坏发生死锁的4个条件"></a>1）破坏发生死锁的4个条件</h3><p><img src="https://s2.loli.net/2022/06/07/KVQ3qwgUTlrsdou.png" alt="image-20220604170043559"></p>
<h3 id="2）银行家算法"><a href="#2）银行家算法" class="headerlink" title="2）银行家算法"></a>2）银行家算法</h3><p><img src="https://s2.loli.net/2022/06/07/uvVINoAnP3aYgRO.png" alt="image-20220604173934033"></p>
<p>安全序列：一个能满足所有进程资源需求的分配序列</p>
<p>不安全状态：当分配了某一些资源后，如果各进程不主动归还一些资源，那么系统有可能不能再满足接下来的资源分配而导致死锁</p>
<p>银行家算法：</p>
<p><img src="https://s2.loli.net/2022/06/07/8JsTOzDIQP2uwYc.png" alt="image-20220604174239059"></p>
<p>银行家算法其实就是在分配资源的时候进行检查，看手上的资源能否满足剩下进程的最大需求，通过回收进程能够得到一条安全序列</p>
<p><img src="https://s2.loli.net/2022/06/07/u2n91ECFJRwOIc7.png" alt="image-20220604174437279"></p>
<p><img src="https://s2.loli.net/2022/06/07/mPuNy3XJwk961ZS.png" alt="image-20220604174444558"></p>
<h2 id="19-死锁的检测和解除"><a href="#19-死锁的检测和解除" class="headerlink" title="19.死锁的检测和解除"></a>19.死锁的检测和解除</h2><h3 id="1）死锁的检测"><a href="#1）死锁的检测" class="headerlink" title="1）死锁的检测"></a>1）死锁的检测</h3><p><img src="https://s2.loli.net/2022/06/07/mCq6A7Edk9XBQMF.png" alt="image-20220604175413859"></p>
<p>实际上就是找到了一条安全序列</p>
<p>死锁检测算法：依次消除不阻塞进程相连的边，直到无边可消</p>
<h3 id="2）死锁的解除"><a href="#2）死锁的解除" class="headerlink" title="2）死锁的解除"></a>2）死锁的解除</h3><p><img src="https://s2.loli.net/2022/06/07/KcJrl1mE5pBt43C.png" alt="image-20220604175616175"></p>
<ol>
<li><p>剥夺某进程资源（将进程挂起），将资源给其它进程</p>
</li>
<li><p>强制终止某些死锁进程，这样对运行快结束的进程可能代价很高</p>
</li>
<li><p>回退到某一步，可以避免死锁</p>
</li>
</ol>
<p><img src="https://s2.loli.net/2022/06/04/8sPJpQV2IcaWS4m.png" alt="image-20220604175758288"></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag"># 操作系统</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/06/06/4.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%96%87%E4%BB%B6%E5%92%8C%E7%A3%81%E7%9B%98/" rel="prev" title="操作系统笔记-文件和磁盘">
      <i class="fa fa-chevron-left"></i> 操作系统笔记-文件和磁盘
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/06/06/5.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-IO%E8%AE%BE%E5%A4%87/" rel="next" title="操作系统笔记-IO管理">
      操作系统笔记-IO管理 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text"></span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5%E3%80%81%E7%BB%84%E6%88%90%E3%80%81%E7%89%B9%E5%BE%81"><span class="nav-text">1.进程的概念、组成、特征</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81%E5%8F%8A%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="nav-text">2.进程的状态及进程状态的转换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-text">3.进程控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E5%8E%9F%E8%AF%AD"><span class="nav-text">1）原语</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%8E%9F%E8%AF%AD"><span class="nav-text">2）进程控制原语</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="nav-text">4. 进程通信</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98"><span class="nav-text">1）共享内存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92"><span class="nav-text">2）消息传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%EF%BC%89%E7%AE%A1%E9%81%93%E9%80%9A%E4%BF%A1"><span class="nav-text">3）管道通信</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="nav-text">5.线程的实现方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E7%94%A8%E6%88%B7%E7%BA%A7%E7%BA%BF%E7%A8%8B"><span class="nav-text">1）用户级线程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E5%86%85%E6%A0%B8%E7%BA%A7%E7%BA%BF%E7%A8%8B"><span class="nav-text">2）内核级线程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%EF%BC%89%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="nav-text">3）多线程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E8%B0%83%E5%BA%A6"><span class="nav-text">6.调度</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6"><span class="nav-text">1）高级调度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E4%B8%AD%E7%BA%A7%E8%B0%83%E5%BA%A6"><span class="nav-text">2）中级调度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%EF%BC%89%E4%BD%8E%E7%BA%A7%E8%B0%83%E5%BA%A6"><span class="nav-text">3）低级调度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%EF%BC%89%E4%B8%83%E7%8A%B6%E6%80%81%E6%A8%A1%E5%9E%8B"><span class="nav-text">4）七状态模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%EF%BC%89%E4%B8%89%E7%A7%8D%E8%B0%83%E5%BA%A6%E5%AF%B9%E6%AF%94"><span class="nav-text">5）三种调度对比</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E7%9A%84%E6%97%B6%E6%9C%BA-%E5%88%87%E6%8D%A2%E5%92%8C%E8%BF%87%E7%A8%8B%E6%96%B9%E5%BC%8F"><span class="nav-text">7.进程调度的时机 切换和过程方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E5%88%87%E6%8D%A2%E6%97%B6%E6%9C%BA"><span class="nav-text">1）切换时机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E5%88%87%E6%8D%A2%E8%BF%87%E7%A8%8B"><span class="nav-text">2）切换过程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-%E6%89%B9%E5%A4%84%E7%90%86%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">8.批处理调度算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89FCFS-%E5%85%88%E6%9D%A5%E5%85%88%E6%9C%8D%E5%8A%A1"><span class="nav-text">1）FCFS 先来先服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89SJF-%E7%9F%AD%E4%BD%9C%E4%B8%9A%E4%BC%98%E5%85%88"><span class="nav-text">2）SJF 短作业优先</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%EF%BC%89HRRN-%E9%AB%98%E5%93%8D%E5%BA%94%E6%AF%94%E4%BC%98%E5%85%88"><span class="nav-text">3）HRRN 高响应比优先</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%EF%BC%89%E5%AF%B9%E6%AF%94"><span class="nav-text">4）对比</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E4%BA%A4%E4%BA%92%E5%BC%8F%E5%A4%84%E7%90%86%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">9.交互式处理调度算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E6%97%B6%E9%97%B4%E7%89%87%E8%BD%AE%E8%BD%AC"><span class="nav-text">1）时间片轮转</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E4%BC%98%E5%85%88%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="nav-text">2）优先级调度算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%EF%BC%89%E5%A4%9A%E7%BA%A7%E5%8F%8D%E9%A6%88%E9%98%9F%E5%88%97"><span class="nav-text">3）多级反馈队列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%EF%BC%89%E5%AF%B9%E6%AF%94-1"><span class="nav-text">4）对比</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%90%8C%E6%AD%A5%E5%92%8C%E4%BA%92%E6%96%A5"><span class="nav-text">10.进程的同步和互斥</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5"><span class="nav-text">1）进程同步</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5"><span class="nav-text">2）进程互斥</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%AE%9E%E7%8E%B0"><span class="nav-text">11.进程互斥的软件实现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E5%8D%95%E6%A0%87%E5%BF%97%E6%B3%95"><span class="nav-text">1）单标志法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E5%8F%8C%E6%A0%87%E5%BF%97%E5%85%88%E6%A3%80%E6%9F%A5%E6%B3%95"><span class="nav-text">2）双标志先检查法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%EF%BC%89%E5%8F%8C%E6%A0%87%E5%BF%97%E5%90%8E%E6%A3%80%E6%9F%A5%E6%B3%95"><span class="nav-text">3）双标志后检查法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5%E7%9A%84%E7%A1%AC%E4%BB%B6%E5%AE%9E%E7%8E%B0"><span class="nav-text">12.进程互斥的硬件实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-%E4%BF%A1%E5%8F%B7%E9%87%8F%E6%9C%BA%E5%88%B6"><span class="nav-text">13.信号量机制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E6%95%B4%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="nav-text">1）整型信号量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E8%AE%B0%E5%BD%95%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="nav-text">2）记录型信号量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%AE%9E%E7%8E%B0%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5%E5%92%8C%E5%90%8C%E6%AD%A5-%E5%89%8D%E9%A9%B1%E5%85%B3%E7%B3%BB"><span class="nav-text">14.信号量实现进程互斥和同步 前驱关系</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E5%AE%9E%E7%8E%B0%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5"><span class="nav-text">1）实现进程互斥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E5%AE%9E%E7%8E%B0%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5"><span class="nav-text">2）实现进程同步</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-%E5%90%84%E7%B1%BB%E9%97%AE%E9%A2%98"><span class="nav-text">15.各类问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E7%94%9F%E4%BA%A7%E8%80%85%E5%92%8C%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98"><span class="nav-text">1）生产者和消费者问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E5%A4%9A%E7%B1%BB%E7%94%9F%E4%BA%A7%E8%80%85%E5%92%8C%E5%A4%9A%E7%B1%BB%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98"><span class="nav-text">2）多类生产者和多类消费者问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%EF%BC%89%E5%90%B8%E7%83%9F%E8%80%85%E9%97%AE%E9%A2%98"><span class="nav-text">3）吸烟者问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%EF%BC%89%E8%AF%BB%E8%80%85%E5%86%99%E8%80%85%E9%97%AE%E9%A2%98"><span class="nav-text">4）读者写者问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%EF%BC%89%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90%E9%97%AE%E9%A2%98"><span class="nav-text">5）哲学家进餐问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-%E7%AE%A1%E7%A8%8B"><span class="nav-text">16.管程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-%E6%AD%BB%E9%94%81%E7%9B%B8%E5%85%B3"><span class="nav-text">17.死锁相关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E6%AD%BB%E9%94%81%E3%80%81%E9%A5%A5%E9%A5%BF%E3%80%81%E6%AD%BB%E5%BE%AA%E7%8E%AF%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">1）死锁、饥饿、死循环的区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E6%AD%BB%E9%94%81%E5%8F%91%E7%94%9F%E7%9A%844%E4%B8%AA%E6%9D%A1%E4%BB%B6"><span class="nav-text">2）死锁发生的4个条件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%EF%BC%89%E6%AD%BB%E9%94%81%E7%9A%84%E5%A4%84%E7%90%86%E7%AD%96%E7%95%A5"><span class="nav-text">3）死锁的处理策略</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-%E9%A2%84%E9%98%B2%E9%81%BF%E5%85%8D%E6%AD%BB%E9%94%81"><span class="nav-text">18.预防避免死锁</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E7%A0%B4%E5%9D%8F%E5%8F%91%E7%94%9F%E6%AD%BB%E9%94%81%E7%9A%844%E4%B8%AA%E6%9D%A1%E4%BB%B6"><span class="nav-text">1）破坏发生死锁的4个条件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95"><span class="nav-text">2）银行家算法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-%E6%AD%BB%E9%94%81%E7%9A%84%E6%A3%80%E6%B5%8B%E5%92%8C%E8%A7%A3%E9%99%A4"><span class="nav-text">19.死锁的检测和解除</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%EF%BC%89%E6%AD%BB%E9%94%81%E7%9A%84%E6%A3%80%E6%B5%8B"><span class="nav-text">1）死锁的检测</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%EF%BC%89%E6%AD%BB%E9%94%81%E7%9A%84%E8%A7%A3%E9%99%A4"><span class="nav-text">2）死锁的解除</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="f1ashades"
      src="/images/mine.jpg">
  <p class="site-author-name" itemprop="name">f1ashades</p>
  <div class="site-description" itemprop="description">once again I am a child</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">f1ashades</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
